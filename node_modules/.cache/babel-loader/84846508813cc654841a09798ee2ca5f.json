{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jay60\\\\OneDrive\\\\Desktop\\\\concept-map-app\\\\velocity-app\\\\src\\\\components\\\\Map.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from \"react\";\nimport './Map.css';\nimport './image_follow.css';\nimport Zoom from './zoom.jsx';\n\nconst getCursorPositionInElement = evt => {\n  return {\n    x: evt.clientX - evt.currentTarget.getBoundingClientRect().left,\n    y: evt.clientY - evt.currentTarget.getBoundingClientRect().top\n  };\n};\n\nconst Map = () => {\n  _s();\n\n  // map code\n  const [deltaX, setDeltaX] = useState(0);\n  const [deltaY, setDeltaY] = useState(0);\n  const [whileMoving, setWhileMoving] = useState(false);\n  const [styles, setStyles] = useState();\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0,\n    scale: 1\n  });\n\n  const onScroll = e => {\n    const delta = e.deltaY * -0.01;\n    const newScale = position.scale + delta;\n    const ratio = 1 - newScale / position.scale;\n    setPosition({\n      scale: newScale,\n      x: position.x + (e.clientX - position.x) * ratio,\n      y: position.y + (e.clientY - position.y) * ratio\n    });\n  };\n\n  const moveStart = e => {\n    setDeltaX(e.screenX - e.currentTarget.getBoundingClientRect().left);\n    setDeltaY(e.screenY - e.currentTarget.getBoundingClientRect().top);\n    setWhileMoving(true);\n  };\n\n  const whileMoves = e => {\n    if (whileMoving) {\n      let left = e.screenX - deltaX;\n      let top = e.screenY - deltaY;\n      console.log(left, top); //if (left > -300 && top > -200 ) { \n\n      setStyles({\n        left: left,\n        top: top\n      }); //}\n    }\n  };\n\n  const moveEnd = () => {\n    setWhileMoving(false);\n  }; // marker code\n\n\n  const [mousePos, setMousePos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isMouseDown, setIsMouseDown] = useState(false);\n\n  const handleMouseDown = () => {\n    setIsMouseDown(true);\n  };\n\n  const handleMouseUp = () => {\n    setIsMouseDown(false);\n  };\n\n  const handleMouseMove = evt => {\n    if (whileMoving) {\n      setMousePos(getCursorPositionInElement(evt));\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"Map\",\n    onMouseDown: moveStart,\n    onMouseMove: whileMoves,\n    onMouseUp: moveEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onWheelCapture: onScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: styles,\n    src: \"/images/campus_map_half.png\",\n    alt: \"\",\n    styles: {\n      transform: `scale(${position.scale}) translate(${position.x}px, ${position.y}px)`,\n      transformOrigin: \"0 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ImageFollow\",\n    onMouseMove: handleMouseMove,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"x:\", mousePos.x, \" | y:\", mousePos.y, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"msg\",\n    style: {\n      left: mousePos.x - 100,\n      top: mousePos.y - 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }\n  }, \"marker1\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"always_half\",\n    style: {\n      left: mousePos.x,\n      top: mousePos.y\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 3\n    }\n  }, \"marker2\"))));\n};\n\n_s(Map, \"RqStGRfe6RNd/A2S1mjVtahDAUo=\");\n\n_c = Map;\nexport default Map; // export default class Map extends Component {\n//     constructor(props) {\n//       super(props);\n//       this.state = {\n//         deltaX: 0,\n//         deltaY: 0,\n//         whileMoving: false,\n//         styles: {},\n//       }\n//       this.moveStart = this.moveStart.bind(this);\n//       this.whileMoving = this.whileMoving.bind(this);\n//       this.moveEnd = this.moveEnd.bind(this);\n//     }\n//     moveStart(e) {\n//       this.setState({\n//         deltaX: e.screenX - e.currentTarget.getBoundingClientRect().left,\n//         deltaY: e.screenY - e.currentTarget.getBoundingClientRect().top,\n//         whileMoving: true\n//       });\n//     }\n//     whileMoving(e) {\n//       if (this.state.whileMoving) {\n//         let left = e.screenX - this.state.deltaX;\n//         let top = e.screenY - this.state.deltaY;\n//         console.log(left, top)\n//         if (left > -300 && top > -200 )\n//         { this.setState({\n//           styles: {\n//             left: left,\n//             top: top\n//           }\n//         });}\n//       }\n//     }\n//     moveEnd() {\n//       this.setState({\n//         whileMoving: false\n//       });\n//     }\n//   //test\n//     render() {\n//       return (\n//         <div class='Map' \n//         onMouseDown= {this.moveStart}\n//         onMouseMove={this.whileMoving}\n//         onMouseUp={this.moveEnd}>\n//             <img style={this.state.styles}\n//             src=\"/images/campus_map_half.png\" alt=\"\"/>\n//             <ImageFollow/>\n//         </div>\n//       );\n//     }\n//   }\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["C:/Users/jay60/OneDrive/Desktop/concept-map-app/velocity-app/src/components/Map.js"],"names":["React","useState","Zoom","getCursorPositionInElement","evt","x","clientX","currentTarget","getBoundingClientRect","left","y","clientY","top","Map","deltaX","setDeltaX","deltaY","setDeltaY","whileMoving","setWhileMoving","styles","setStyles","position","setPosition","scale","onScroll","e","delta","newScale","ratio","moveStart","screenX","screenY","whileMoves","console","log","moveEnd","mousePos","setMousePos","isMouseDown","setIsMouseDown","handleMouseDown","handleMouseUp","handleMouseMove","transform","transformOrigin"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState } from \"react\";\r\nimport './Map.css';\r\nimport './image_follow.css';\r\nimport Zoom from './zoom.jsx';\r\n \r\nconst getCursorPositionInElement = (evt) => {\r\n return {\r\n    x : evt.clientX - evt.currentTarget.getBoundingClientRect().left,\r\n    y : evt.clientY - evt.currentTarget.getBoundingClientRect().top\r\n }\r\n};\r\n\r\n\r\n\r\nconst Map = () => {\r\n\r\n  // map code\r\n\r\n  const[deltaX, setDeltaX] = useState(0);\r\n  const[deltaY, setDeltaY] = useState(0);\r\n  const[whileMoving, setWhileMoving] = useState(false);\r\n  const[styles, setStyles] = useState();\r\n\r\n  const [position, setPosition] = useState({ x: 0, y: 0, scale: 1 });\r\n  const onScroll = (e) => {\r\n  const delta = e.deltaY * -0.01;\r\n  const newScale = position.scale + delta;\r\n\r\n  const ratio = 1 - newScale / position.scale;\r\n\r\n  setPosition({\r\n    scale: newScale,\r\n    x: position.x + (e.clientX - position.x) * ratio,\r\n    y: position.y + (e.clientY - position.y) * ratio,\r\n  });\r\n};\r\n\r\n\r\n const moveStart = (e) => {\r\n    setDeltaX(e.screenX - e.currentTarget.getBoundingClientRect().left);\r\n    setDeltaY(e.screenY - e.currentTarget.getBoundingClientRect().top);\r\n    setWhileMoving(true);\r\n  };\r\n\r\n\r\n  const whileMoves = (e) => {\r\n    if (whileMoving) {\r\n        \r\n    \r\n      let left = e.screenX - deltaX;\r\n      let top = e.screenY - deltaY;\r\n\r\n      console.log(left, top)\r\n     \r\n      //if (left > -300 && top > -200 ) { \r\n        setStyles({\r\n            left: left,\r\n            top: top\r\n          \r\n        });\r\n      //}\r\n    }\r\n  };\r\n\r\n const  moveEnd = () => {\r\n    setWhileMoving(false);\r\n  };\r\n\r\n  // marker code\r\n\r\n    const [mousePos, setMousePos] = useState({x:0, y:0});\r\n    const [isMouseDown, setIsMouseDown] = useState(false);\r\n  \r\n  \r\n    const handleMouseDown = () => {\r\n      setIsMouseDown(true);\r\n    }\r\n  \r\n    const handleMouseUp = () => {\r\n      setIsMouseDown(false);\r\n    }\r\n  \r\n    const handleMouseMove = (evt) => {\r\n      if (whileMoving) {\r\n        setMousePos(getCursorPositionInElement(evt));\r\n      };\r\n    }\r\n  \r\n\r\n  \r\n\r\n    return (\r\n      <div class='Map' \r\n      onMouseDown= {moveStart}\r\n      onMouseMove={whileMoves}\r\n      onMouseUp={moveEnd}>\r\n      <div onWheelCapture = {onScroll}>\r\n        <img style={styles}\r\n          src=\"/images/campus_map_half.png\" alt=\"\"styles={{\r\n            transform: `scale(${position.scale}) translate(${position.x}px, ${position.y}px)`,\r\n            transformOrigin: \"0 0\"\r\n            ,\r\n          }}/>\r\n          \r\n      <div className='ImageFollow'\r\n\t\t\tonMouseMove={handleMouseMove}\r\n\t\t\tonMouseDown={handleMouseDown}\r\n\t\t\tonMouseUp={handleMouseUp}\r\n\t\t>\r\n\t\tx:{mousePos.x} | y:{mousePos.y}\r\n\r\n\t\t<div className='msg' style={{left: mousePos.x - 100, top: mousePos.y - 100}}>\r\n\t\t\tmarker1\r\n\t\t</div>\r\n\r\n\t\t<div className='always_half' style={{left: mousePos.x, top: mousePos.y}}>\r\n\t\t\tmarker2\r\n\t\t</div>\r\n\r\n\t</div>\r\n      </div>\r\n      </div>\r\n\r\n    );\r\n\r\n  };\r\n\r\nexport default Map;\r\n\r\n\r\n// export default class Map extends Component {\r\n  \r\n//     constructor(props) {\r\n//       super(props);\r\n  \r\n//       this.state = {\r\n//         deltaX: 0,\r\n//         deltaY: 0,\r\n//         whileMoving: false,\r\n//         styles: {},\r\n//       }\r\n  \r\n//       this.moveStart = this.moveStart.bind(this);\r\n//       this.whileMoving = this.whileMoving.bind(this);\r\n//       this.moveEnd = this.moveEnd.bind(this);\r\n  \r\n//     }\r\n    \r\n//     moveStart(e) {\r\n//       this.setState({\r\n        \r\n        \r\n//         deltaX: e.screenX - e.currentTarget.getBoundingClientRect().left,\r\n//         deltaY: e.screenY - e.currentTarget.getBoundingClientRect().top,\r\n//         whileMoving: true\r\n  \r\n//       });\r\n//     }\r\n  \r\n//     whileMoving(e) {\r\n//       if (this.state.whileMoving) {\r\n        \r\n\r\n//         let left = e.screenX - this.state.deltaX;\r\n//         let top = e.screenY - this.state.deltaY;\r\n  \r\n//         console.log(left, top)\r\n       \r\n//         if (left > -300 && top > -200 )\r\n//         { this.setState({\r\n//           styles: {\r\n//             left: left,\r\n//             top: top\r\n//           }\r\n//         });}\r\n       \r\n      \r\n//       }\r\n    \r\n//     }\r\n  \r\n//     moveEnd() {\r\n//       this.setState({\r\n//         whileMoving: false\r\n//       });\r\n//     }\r\n//   //test\r\n//     render() {\r\n//       return (\r\n      \r\n//         <div class='Map' \r\n//         onMouseDown= {this.moveStart}\r\n//         onMouseMove={this.whileMoving}\r\n//         onMouseUp={this.moveEnd}>\r\n//             <img style={this.state.styles}\r\n//             src=\"/images/campus_map_half.png\" alt=\"\"/>\r\n//             <ImageFollow/>\r\n//         </div>\r\n\r\n//       );\r\n  \r\n//     }\r\n//   }\r\n"]},"metadata":{},"sourceType":"module"}